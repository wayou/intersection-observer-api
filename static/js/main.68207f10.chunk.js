(this["webpackJsonpintersection-observer-api"]=this["webpackJsonpintersection-observer-api"]||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(12)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var o,r,c=n(0),a=n.n(c),i=n(3),s=n.n(i),u=(n(10),n(1)),l=n(4),f=(n(11),new Array(10).fill("https://picsum.photos/200")),m={rootMargin:"0px",threshold:0},b=0,v=function(){var e=Object(c.useState)(f),t=Object(l.a)(e,2),n=t[0],i=t[1],s=Object(c.useCallback)((function(e,t){console.info("loading page ".concat(++b)),i((function(e){return[].concat(Object(u.a)(e),Object(u.a)(f))}))}),[]),v=Object(c.useCallback)((function(e,t){e.forEach((function(e){if(e.isIntersecting){var n=e.target;console.log("lazy loading ",n),n.classList.remove("empty"),n.src=n.dataset.src,t.unobserve(e.target)}}))}),[]);return Object(c.useEffect)((function(){o||(o=new IntersectionObserver(s,m));var e=document.querySelector("footer");return e&&o.observe(e),function(){e&&o.unobserve(e)}}),[s]),Object(c.useEffect)((function(){r||(r=new IntersectionObserver(v,m));var e=document.querySelectorAll("img.empty");return e&&e.forEach((function(e){r.observe(e)})),function(){e&&e.forEach((function(e){r.unobserve(e)}))}}),[v,n]),a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"content-wrap"},n.map((function(e,t){return a.a.createElement("img",{className:"empty",key:t,"data-src":e+"?f=".concat(t)})}))),a.a.createElement("footer",null,"loading more ...."))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[5,1,2]]]);
//# sourceMappingURL=main.68207f10.chunk.js.map